%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% USER CUSTOMISATIONS %%%%%%%%%%%%%%%%%%
% Add any user commands or packages below to keep them separate from the main customisations.

% Package to colour text
\usepackage{xcolor}

% Custom command to add notes in a separate colour. Very useful for making notes to self.
% Example use: \note{some wonderful notes to myself}
\newcommand{\note}[1]{\textcolor{cyan}{\footnotesize [#1]}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%% GRAPHICS PATH %%%%%%%%%%%%%%%%%%%%%%
%% Ignore unless using 'faster compiling' method from the README.md

%% Uncomment block below to compile with pdfs
% \graphicspath{
% {chap4/graphics}
% {chap3/graphics}
% {chap2/graphics}
% {chap5_conclusion/graphics}
% {chap1_intro/graphics}
% }

%% Uncomment block below to compile with pngs
% \graphicspath{
% {chap4/draft_graphics}
% {chap3/draft_graphics}
% {chap2/draft_graphics}
% {chap5_conclusion/draft_graphics}
% {chap1_intro/draft_graphics}
% }

%% NOTE if using this method:
% When inserting a figure, simply by name the file rather than the full path.
% (Overleaf might want to autofill, don't let it!)
%
% E.g.
% \includegraphics{my_plot}
% instead of
% \includegraphics{chap1/graphics/my_plot}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% END OF CUSTOMISATONS %%%%%%%%%%%%%%%%%

% Random other packages to use
\usepackage{booktabs}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[british]{babel}
\usepackage{ae,aecompl}
\usepackage{newtxmath}
\usepackage[T1]{fontenc}
\usepackage{rotating}
\usepackage{graphicx}
\usepackage{dsfont}
\usepackage{url}
\usepackage{hyperref}
\usepackage{grffile}
\usepackage{nicefrac}
\usepackage{natbib}
\usepackage{color}

% Uncomment below to set font style for captions.
% \usepackage[font=small, labelfont={bf}, textfont=rm, format=hang, margin=1em,listofformat=subparens, labelsep=quad]{caption}
% \usepackage[font=footnotesize, labelsep=quad]{subcaption}
% \captionsetup[algorithm]{font=small, labelfont={bf}, textfont=rm, format=hang, margin=1em,listofformat=subparens, labelsep=quad}
% \captionsetup[table]{font=small, labelfont={bf}, textfont=rm, format=hang, margin=1em,listofformat=subparens, labelsep=quad}

% Add spacing between paragraphs
\setlength{\parskip}{10pt}
% Alternatively you can indent the start of each paragraph
% \setlength{\parindent}{3ex} 

%% More control of appendices
\usepackage{appendix}
\newcommand{\tocappendix}{}

% Useful commands for
%% Formatting of section titles.
% ragged right means long titles won't look stupidly wrapped
\usepackage[raggedright, sf, bf]{titlesec}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand\aap{A\&A}                % Astronomy and Astrophysics
\let\astap=\aap                          % alternative shortcut
\newcommand\aapr{A\&ARv}             % Astronomy and Astrophysics Review (the)
\newcommand\aaps{A\&AS}              % Astronomy and Astrophysics Supplement Series
\newcommand\actaa{Acta Astron.}      % Acta Astronomica
\newcommand\afz{Afz}                 % Astrofizika
\newcommand\aj{AJ}                   % Astronomical Journal (the)
\newcommand\ao{Appl. Opt.}           % Applied Optics
\let\applopt=\ao                         % alternative shortcut
\newcommand\aplett{Astrophys.~Lett.} % Astrophysics Letters
\newcommand\apj{ApJ}                 % Astrophysical Journal
\newcommand\apjl{ApJ}                % Astrophysical Journal, Letters
\let\apjlett=\apjl                       % alternative shortcut
\newcommand\apjs{ApJS}               % Astrophysical Journal, Supplement
\let\apjsupp=\apjs                       % alternative shortcut
% The following journal does not appear to exist! Disabled.
%\newcommand\apspr{Astrophys.~Space~Phys.~Res.} % Astrophysics Space Physics Research
\newcommand\apss{Ap\&SS}             % Astrophysics and Space Science
\newcommand\araa{ARA\&A}             % Annual Review of Astronomy and Astrophysics
\newcommand\arep{Astron. Rep.}       % Astronomy Reports
\newcommand\aspc{ASP Conf. Ser.}     % ASP Conference Series
\newcommand\azh{Azh}                 % Astronomicheskii Zhurnal
\newcommand\baas{BAAS}               % Bulletin of the American Astronomical Society
\newcommand\bac{Bull. Astron. Inst. Czechoslovakia} % Bulletin of the Astronomical Institutes of Czechoslovakia 
\newcommand\bain{Bull. Astron. Inst. Netherlands} % Bulletin Astronomical Institute of the Netherlands
\newcommand\caa{Chinese Astron. Astrophys.} % Chinese Astronomy and Astrophysics
\newcommand\cjaa{Chinese J.~Astron. Astrophys.} % Chinese Journal of Astronomy and Astrophysics
\newcommand\fcp{Fundamentals Cosmic Phys.}  % Fundamentals of Cosmic Physics
\newcommand\gca{Geochimica Cosmochimica Acta}   % Geochimica Cosmochimica Acta
\newcommand\grl{Geophys. Res. Lett.} % Geophysics Research Letters
\newcommand\iaucirc{IAU~Circ.}       % IAU Cirulars
\newcommand\icarus{Icarus}           % Icarus
\newcommand\japa{J.~Astrophys. Astron.} % Journal of Astrophysics and Astronomy
\newcommand\jcap{J.~Cosmology Astropart. Phys.} % Journal of Cosmology and Astroparticle Physics
\newcommand\jcp{J.~Chem.~Phys.}      % Journal of Chemical Physics
\newcommand\jgr{J.~Geophys.~Res.}    % Journal of Geophysics Research
\newcommand\jqsrt{J.~Quant. Spectrosc. Radiative Transfer} % Journal of Quantitiative Spectroscopy and Radiative Transfer
\newcommand\jrasc{J.~R.~Astron. Soc. Canada} % Journal of the RAS of Canada
\newcommand\memras{Mem.~RAS}         % Memoirs of the RAS
\newcommand\memsai{Mem. Soc. Astron. Italiana} % Memoire della Societa Astronomica Italiana
\newcommand\mnassa{MNASSA}           % Monthly Notes of the Astronomical Society of Southern Africa
\newcommand\mnras{MNRAS}             % Monthly Notices of the Royal Astronomical Society
\newcommand\na{New~Astron.}          % New Astronomy
\newcommand\nar{New~Astron.~Rev.}    % New Astronomy Review
\newcommand\nat{Nature}              % Nature
\newcommand\nphysa{Nuclear Phys.~A}  % Nuclear Physics A
\newcommand\pra{Phys. Rev.~A}        % Physical Review A: General Physics
\newcommand\prb{Phys. Rev.~B}        % Physical Review B: Solid State
\newcommand\prc{Phys. Rev.~C}        % Physical Review C
\newcommand\prd{Phys. Rev.~D}        % Physical Review D
\newcommand\pre{Phys. Rev.~E}        % Physical Review E
\newcommand\prl{Phys. Rev.~Lett.}    % Physical Review Letters
\newcommand\pasa{Publ. Astron. Soc. Australia}  % Publications of the Astronomical Society of Australia
\newcommand\pasp{PASP}               % Publications of the Astronomical Society of the Pacific
\newcommand\pasj{PASJ}               % Publications of the Astronomical Society of Japan
\newcommand\physrep{Phys.~Rep.}      % Physics Reports
\newcommand\physscr{Phys.~Scr.}      % Physica Scripta
\newcommand\planss{Planet. Space~Sci.} % Planetary Space Science
\newcommand\procspie{Proc.~SPIE}     % Proceedings of the Society of Photo-Optical Instrumentation Engineers
\newcommand\rmxaa{Rev. Mex. Astron. Astrofis.} % Revista Mexicana de Astronomia y Astrofisica
\newcommand\qjras{QJRAS}             % Quarterly Journal of the RAS
\newcommand\sci{Science}             % Science
\newcommand\skytel{Sky \& Telesc.}   % Sky and Telescope
\newcommand\solphys{Sol.~Phys.}      % Solar Physics
\newcommand\sovast{Soviet~Ast.}      % Soviet Astronomy (aka Astronomy Reports)
\newcommand\ssr{Space Sci. Rev.}     % Space Science Reviews
\newcommand\zap{Z.~Astrophys.}       % Zeitschrift fuer Astrophysik

\bibliographystyle{mnras}

%% Control the layout of the tables of contents by defining how each type of entry should be formatted.
\usepackage{titletoc}
% \contentsmargin{1em}
\titlecontents{chapter}[1.5em]{\addvspace{0.7em}}{\bf\contentslabel{1.5em}}{\bf\hspace*{-1.5em}}{\titlerule*[1pc]{ }\contentspage}[\addvspace{0.3em}]
\titlecontents{section}[1.8em]{}{\contentslabel{2.3em}}{\hspace*{-2.3em}}{\titlerule*[4pt]{.}\contentspage}[\addvspace{4pt}]
\titlecontents{subsection}[5.0em]{}{\contentslabel{3.2em}}{\hspace*{-3.2em}}{\titlerule*[4pt]{.}\contentspage}[\addvspace{4pt}]
% \dottedcontents{section}[3.8em]{\addvspace{3pt}}{2.3em}{1pc}
% \dottedcontents{subsection}[6.1em]{\addvspace{3pt}}{3.2em}{1pc} 
\titlecontents{figure}[3em]{}{\contentslabel{3.2em}}{\hspace*{-3.2em}}{\titlerule*[4pt]{.}\contentspage}[\addvspace{4pt}]
\titlecontents{table}[3em]{}{\contentslabel{3.2em}}{\hspace*{-3.2em}}{\titlerule*[4pt]{.}\contentspage}[\addvspace{4pt}]

%% Rejig page footers.
\usepackage{fancyhdr}
\fancypagestyle{plain}{%
\fancyhead{}                    % No page headers
\fancyfoot{}                    % No page footers
\if@twoside % page number set at outside bottom margin 
  \fancyfoot[RO,LE]{\thepage}
\else
  \fancyfoot[RO]{\thepage}
\fi

\renewcommand{\headrulewidth}{0pt} % No horizontal lines
\renewcommand{\footrulewidth}{0pt}}
\fancypagestyle{empty}{%
\fancyhead{}                    % No page headers
\fancyfoot{}                    % No page footers
\if@twoside % page number set at outside bottom margin 
  \fancyfoot[RO,LE]{\thepage}
\else
  \fancyfoot[RO]{\thepage}
\fi

\renewcommand{\headrulewidth}{0pt} % No horizontal lines
\renewcommand{\footrulewidth}{0pt}}

\pagestyle{plain}               % Select this page style

\usepackage{setspace}
\newcommand{\eighteenptleading}{%
  \setstretch{1.5}%  default
  \ifcase \@ptsize \relax % 10pt
    \setstretch {1.5}%
  \or % 11pt
    \setstretch {1.323}%
  \or % 12pt
    \setstretch {1.241}%
  \fi
}
 
%% Thesis title page definition
%% The submission regulations change occasionally.
%% You should check that this is still up to date
\newcommand{\maketitlepage}{
  \begin{titlepage}
   \thispagestyle{fancy}
   \fancyhead{}
   \fancyfoot{}
    \begin{center}
      \LARGE{\bf{\@title}}\\
      \vspace{2cm}
      \large{\@author}
      
      %\vspace{2cm}
      \vfill
      \begin{figure}[!h]
        \begin{center}
          \includegraphics[width=0.5\linewidth]{thesis-frontmatter/crest}
        \end{center}
      \end{figure}
      
      \vfill
      % Degree name, institution name and year of submission
      Doctor of Philosophy \\
      The University of Edinburgh \\
      \@date
    \end{center}
  \end{titlepage}
  \ifpdf
    \pdfinfo{
      /Author (\@author)
      /Title (\@title)
    }
  \else
  \fi
}

% Change declaration with:
% \renewcommand{\thedeclaration}{declaration text}
% And/or add publications with:
% \declarationpublications{\citet{me:2008},\citet{boss:2008} and \citet{me:2009}}
\newenvironment{@declare}{\chapter{Declaration}}{
  \par\vspace{1in}
  \begin{flushright}
    (\emph{\@author, \@date})
  \end{flushright}
}

\newcommand{\@declaration}{%
  I declare that this thesis was composed by myself, that the work %
  contained herein is my own except where explicitly stated %
  otherwise in the text, and that this work has not been submitted %
  for any other degree or professional qualification except as %
  specified.}
\newcommand{\@declaration@publishedin}{%
  Parts of this work have been published in}


\newcommand{\thedeclaration}{\@declaration}

\newcommand{\declarationpublications}[1]{%
  \expandafter\def\expandafter\thedeclaration%
  \expandafter{\thedeclaration\par\vspace{\baselineskip}\noindent\@declaration@publishedin{} #1.}%
}%

\newcommand{\makedeclaration}{
  \begin{@declare}
    \thedeclaration
  \end{@declare}
}

% Use the geometry package to set up margins.
% Read the phd guidelines to figure out what the correct numbers are.
% \usepackage[a4paper,inner=40mm,outer=50mm,top=30mm,bottom=62.6mm]{geometry}
\usepackage[a4paper,inner=40mm,outer=25mm,top=20mm,bottom=40mm]{geometry}

% The listings package is useful for code listings
\usepackage[final]{listings}
\lstset{
  basicstyle=\ttfamily\scriptsize,%\footnotesize,
  keywordstyle=\color{blue},
  commentstyle=\color{red},
 stringstyle=\color{green}\ttfamily
}
\lstloadlanguages{C, python}
\lstdefinestyle{numbers}{
  numbers=left,
  stepnumber=1,
  numberstyle=\tiny,
  numbersep=10pt,
  firstnumber=auto
}

\ifpdf
  \newcommand{\addcontentslineandlink}[3]{
    \phantomsection
    \addcontentsline{#1}{#2}{#3}
  }
\else
  \newcommand{\addcontentslineandlink}[3]{
    \addcontentsline{#1}{#2}{#3}
  }
\fi

% not sure what this comamnd does, was in the template but I have uncommented it.
% \newcommand{\subfigureautorefname}{\figureautorefname}

% reduce hyphenation
\hyphenpenalty=5000
\tolerance=1000

\setlength{\parindent}{0pt}

\endinput